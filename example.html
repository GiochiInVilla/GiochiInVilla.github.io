<!DOCTYPE html>
<head>
  <title>Giochi in Villa</title>
 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <link rel="stylesheet" href="../generalCSS.css">
  <link rel="stylesheet" href="../fonts/fonts.css">
  <link rel="stylesheet" href="../buttons.css">
  
  <link rel="icon" type="image/x-icon" href="../images/icons/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
</head>
<body>
  
  <div class="container-fluid text-center">
    <img class='img-fluid' src='../images/backgrounds/header.webp'></img>
  </div>
  
  <div class="sticky-top" loadHTML="../template_containers/nav.html"></div>
  
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
      <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
    </symbol>
  </svg>
  
  <br><br>
  <div class="row m-auto">
    <div class="col-xl-4 col-md-3 col-1"></div>
	<div class="col-xl-4 col-md-6 col-10">
	
	  <div class="alert alert-danger d-none" role="alert" id="alert">
		<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:"><use xlink:href="#exclamation-triangle-fill"/></svg>
		<strong>Password Errata!</strong>
	  </div>
		  
	  <div class="container-fluid bg-light bg-gradient p-4 mb-4 rounded border" style='--bs-bg-opacity: .85;'>
		<input class="form-control form-control-lg" id="password" type="password" placeholder="password"/><br/>
		<button class="btn btn-primary btn-lg" id="loginbutton" type="button">Invia</button>
	  </div>
	</div>
	<div class="col-xl-4 col-md-3 col-1"></div>
  </div>
  <br><br><br><br><br><br>
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark text-secondary">
    <div class="ps-3">Powered by Github - Made by Vice</div>
  </nav>

  <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
  <script type="text/javascript" src="https://rawcdn.githack.com/chrisveness/crypto/7067ee62f18c76dd4a9d372a00e647205460b62b/sha1.js"></script>
<script type="text/javascript">
function loadPage(pwd) {
	var hash= pwd;
	hash= Sha1.hash(pwd);
	var url= hash + "/index.html";
	$.ajax({
		url : url,
		dataType : "html",
		success : function(data) {
			window.location= url;
		},
		error : function(xhr, ajaxOptions, thrownError) {
			parent.location.hash= hash;
			$("#password").attr("placeholder","Wrong password");
			$("#password").val("");
			var alertElement = document.getElementById("alert");
			alertElement.classList.remove("d-none");
		}
	});
}

$("#loginbutton").on("click", function() {
	loadPage($("#password").val());
});
$("#password").keypress(function(e) {
	if (e.which == 13) {

		loadPage($("#password").val());
	}
});
$("#password").focus();

function loadExternalHTML() {
	var z, i, elmnt, file, xhttp;
	z = document.getElementsByTagName("*");
	for (i = 0; i < z.length; i++) {
		elmnt = z[i];
		file = elmnt.getAttribute("loadHTML");
		if (file) {
			xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4) {
				if (this.status == 200) {elmnt.innerHTML = this.responseText;}
				if (this.status == 404) {elmnt.innerHTML = "";}
				elmnt.removeAttribute("loadHTML");
				loadExternalHTML();
				}
			}      
			xhttp.open("GET", file, true);
			xhttp.send();
			return;
			}
		}
	};

loadExternalHTML();

</script>

</body>
</html>